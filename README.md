# Приложение для городов и пользователей

Простое веб-приложение на PHP для управления списком городов и пользователей. Поддерживает русский язык (кириллицу) и работает в Docker с PHP 8.2, Apache и MySQL.

## Что умеет

- **Города**:
  - Просмотр списка городов (сортировка по ID, названию, стране).
  - Фильтр по городу или стране (например, «Москва»).
  - Добавление и редактирование городов.
- **Пользователи**:
  - Просмотр списка пользователей (сортировка по ID, имени, городу).
  - Фильтр по имени или городу (например, «Иван»).
  - Создание и редактирование пользователей с выбором города.
- Полная поддержка русского текста (UTF-8).

## Требования

- Docker
- Docker Compose
- Git

## Установка

1. **Склонируйте проект**:
   ```bash
   git clone <ваш-репозиторий>
   cd <папка-проекта>
   ```

2. **Настройте окружение**:
   Создайте файл `.env` из `.env.example`:
   ```env
   MYSQL_ROOT_PASSWORD=secret
   MYSQL_DATABASE=app_db
   MYSQL_USER=user
   MYSQL_PASSWORD=password
   ```
   Укажите свои значения.

3. **Запустите**:
   ```bash
   docker-compose up --build
   ```
   Ждите, пока контейнеры запустятся.

4. **Откройте в браузере**:
   - Пользователи: `http://localhost/users.php`
   - Города: `http://localhost/cities.php`

5. **Остановка**:
   ```bash
   docker-compose down
   ```

## Как использовать

- **Список пользователей**:
  - На `users.php` сортируйте, кликая на заголовки («Имя», «Город»).
  - Фильтруйте, введя имя (например, «Иван») или город («Москва»).
  - Нажмите «Добавить нового пользователя» для создания.
- **Список городов**:
  - На `cities.php` сортируйте или фильтруйте по городу/стране.
  - Добавляйте города через `city.php`.
- **Примеры**:
  - Фильтр: `users.php?filter_name=Иван`
  - Новый пользователь: На `user.php` введите «Иван», «Петров», выберите «Москва».

## Структура

- `core/`: Логика приложения (модели, контроллеры).
- `views/`: Страницы (списки и формы).
- `Dockerfile`, `docker-compose.yml`: Настройка Docker.
- `database.sql`: Создаёт таблицы и добавляет данные (например, «Москва»).
- `php.ini`: Настройка PHP.
- `users.php\user.php`: Точка входа для отображения всех пользователей и обработки отдельного пользователя, соответственно.
- `cities.php\city.php`: Точка входа для отображения всех городов и обработки отдельного города, соответственно.
- `countries.php\country.php`: Точка входа для отображения всех стран и обработки отдельной страны, соответственно.
- `index.php`: Точка входа в приложение.
- `wait-for-sql.sh`: Скрипт для ожидания готовности БД.
- `init-app.php`: Скрипт для запуска скрипта ожидания и Apache.

## Недочеты
Не получилось побороть кодировку символов, русские символы почему-то корректно не выводятся. Понимаю, что это существенный минус, но всё же :(